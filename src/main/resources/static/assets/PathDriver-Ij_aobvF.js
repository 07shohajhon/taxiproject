import{L as Y,j as e,u as ee,a as M,bp as xe,f as fe,g as ge,J as E,V as Ce,W as je,bq as ve,br as be,bs as K,a0 as G,X as C,Y as Se,Z as Ne,a3 as Q,a4 as B,bt as F,l as x,bu as ke,bv as Me,bw as V,a2 as Z,a5 as L,bx as P,Q as De,by as we}from"./index-BCdHPsc2.js";import{r}from"./vendor-cPKpM4Zg.js";import{D as Te,a as Ae}from"./DriverFooter-CPX7iMYK.js";/* empty css             */import{b as _,c as Ee,a as qe,d as ze,e as Ie,O as $,D as Ue}from"./b11-DSj8Lgkw.js";import{G as We}from"./iconBase-72Uq7_Yp.js";import"./telegram-CjCUcquv.js";import"./5-CzOa35lx.js";const Xe="data:image/webp;base64,UklGRlAEAABXRUJQVlA4TEMEAAAvPoAPEGflJpIkR8qeU+ZZj+L5I5PW7+nD4CaSJEfKnlPmWYfi+GN7/e24kSRFiuo9Pk/Oy3OZXgvlyLbdtGksyYMy7q/r7RYyKzM3IKn6QtOEJZt3oEML3sXzxsjdoltDMWaRpF1GkiiHsVviiarGsEa19CL/nwVzaP8jV/czAACIo+4cJwgAASBO8AcAAApbSBC8UIWAAwD+R0HhBMjgoNRQLbhydJEpEoFqiUB3KZeMiKHrXwlKDOUSkQgKOLr0p9KCQ5VDiROIbmBU1Gg3EcikghJB9u+QGrpNfoL1WJecgy6NM7KQk3ISTVPpbss/XqJmlVa5mZ7JyrjgqSWwChlGQkIpQmu0WEiqKukRMX3BaHd4H8v63u11TCzd8u/xrObzGuP+5+n4AP64XoBEybZNu1qxnaxzYyf33uTZtm3Ftm3btp38Zebe55z9fiCi/xNARp8NFKU9upEYyXGp19d+FU04kMp7dVsJrNf6tPFEFY+sSDY2/lOvCt2rbKLlqZdZvh81Njc03dWUGiubb28y7jiDpbVbT7+317SUlPx5Mm+RYe2Xk0H+91gyPrPKhWT36tejRMwPdg0ZX2Txldw90r9fclnEMyMGuF9kYUrZGRnr1Dol4EsjukKuMdYyfcl4v58Cvuai4+Qh44QuMrciGfEDJ7m3jC/3kE6vOi8dNH4F8S+pesZ3/UlnGjOn6aCx60hrkgixocv+pLOGzzfqoNE5wHZX0RuGCT2kNxtk6yHvWMDpgm4L0LpI90vwUhc1aiDUC60xzCJl6AfgZ6BPA1ZfhQJSgGXoXAbDMlKIigGnEZFzDLhyptTpDZBwQtTAMJeUonbAzUTrIH5PsYNJsE1HcSCTFKMXwO7gybBMuUrAfcVAG1XOH5WkgVukHC2Av0vg6X/wEqzMgu+mXHoGvwzq+ApmrKDdFHFYrVwhuBAGypXgS3KlIDYUlBn0UQ/vSVWC0HDQZlCensskXQeikkCBQcd35MJq5YqAdQ78MYiO818/E/8bJPlvYGYTPDHK1G2w/BnM/wfT4HMxsOwpF2gBnf2A65WrYNh/FgfWlXsJkhxpHUTtK+YcDZ4SVQEuUayVYT1RQAy47KTU6VUQs09EHwC3KtXBMI2IyEMDU3sKBacAre8cPQacodB7ho8JdlsANytTqwGLF6IPKHlcEfdEhh9I6GIFfGVMidEFhtZAETUjvu6iwOhtxo0k+wHxXJBpPguMP5H00X3EMeUmNSUxfnAoR/5XEWs/XE0Ifq8xXnAhvcMXELO1+NSg044UFl5yI/3DVwXMN9oPDHBuXWDx/DgZ6X9PxDz5otJfKrDiVTRL3nMhYw8/SJxfePk7p7qmruTP9rSFpd+dkOHNNimjU5rJzJAPFpNCswLJ5O7HmgnazgQp6PUp1qDYrB5SdK/lWbyuxOdVfqTy2WBB+tJNeyxHpMxtfO4cPCWjAQA=",He=({onClose:s,onSelect:a})=>{const[u,f]=r.useState(new Date().getHours()),[y,j]=r.useState(new Date().getMinutes()),[S,h]=r.useState(null),{language:g}=r.useContext(Y);r.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const N=Array.from({length:24},(o,d)=>d),v=Array.from({length:60},(o,d)=>d),U=()=>{a({hour:u,minute:y}),s()},b=(o,d)=>{const l=o.length;return(d+l)%l},k=(o,d,l,D)=>{o.preventDefault();const n=o.deltaY>0?1:-1,w=b(D,l+n);d(w)},m=o=>{h(o.touches[0].clientY)},q=(o,d,l,D)=>{if(S===null)return;const n=o.touches[0].clientY,w=S-n>0?1:-1,J=b(D,l+w);d(J),h(n)};return e.jsx("div",{className:"time-selector-overlay",onClick:s,children:e.jsxs("div",{className:"time-selector-modal",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"time-selector-header",children:[e.jsx("h2",{children:g==="1"?"Vaqtni tanlang!":"Выберите время!"}),e.jsx("button",{className:"exi",onClick:s,children:"x"})]}),e.jsx("div",{className:"time-selector-body",children:e.jsxs("div",{className:"time-selector-picker",children:[e.jsx("div",{className:"time-selector-column",children:e.jsx("div",{className:"spinner",onWheel:o=>k(o,f,u,N),onTouchStart:m,onTouchMove:o=>q(o,f,u,N),children:[-2,-1,0,1,2].map(o=>{const d=b(N,u+o),l=N[d];return e.jsx("div",{className:`spinner-item ${u===l?"selected":""}`,style:{fontSize:u===l?"24px":"20px",color:u===l?"blue":"black"},children:l<10?`0${l}`:l},d)})})}),e.jsx("div",{className:"time-selector-divider",children:"-"}),e.jsx("div",{className:"time-selector-column",children:e.jsx("div",{className:"spinner",onWheel:o=>k(o,j,y,v),onTouchStart:m,onTouchMove:o=>q(o,j,y,v),children:[-2,-1,0,1,2].map(o=>{const d=b(v,y+o),l=v[d];return e.jsx("div",{className:`spinner-item ${y===l?"selected":""}`,style:{fontSize:y===l?"24px":"20px",color:y===l?"blue":"black"},children:l<10?`0${l}`:l},d)})})})]})}),e.jsx("div",{className:"time-selector-actions",children:e.jsx("button",{className:"btn-confirm",onClick:U,children:"Saqlash"})})]})})};function Oe(s){return We({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9 1.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5c0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5z"},child:[]},{tag:"path",attr:{d:"M9 4h-3c-0.552 0-1 0.448-1 1v5h1v6h1.25v-6h0.5v6h1.25v-6h1v-5c0-0.552-0.448-1-1-1z"},child:[]}]})(s)}function Ge({onSelect:s,onClose:a,isTrue:u}){const f=ee(),{selectedSeat:y}=M(h=>h.fromCity),{language:j}=r.useContext(Y),S=h=>{f(xe(h)),s(h),a()};return r.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),e.jsx("div",{className:"modal-overlay1",onClick:a,children:e.jsxs("div",{className:"modal-content1",onClick:h=>h.stopPropagation(),children:[e.jsx("div",{className:"close-icon-container1",children:e.jsx("button",{className:"close-button1",onClick:a,children:"x"})}),e.jsx("div",{className:"modal-header1",children:e.jsx("p",{children:j==="1"?"O'rindiqlar sonini tanlang!":"Выбирайте количество мест!"})}),e.jsx("div",{className:"seat-container1",style:{marginTop:"15px",display:"flex",flexWrap:"wrap"},children:Array.from({length:u==!0?6:12},(h,g)=>e.jsx("button",{className:`seat-button ${y===g+1?"seat-selected":""}`,onClick:()=>S(g+1),children:g+1},g+1))})]})})}function Ve(){const s=ee(),{driverRout:a,routesByDriver:u,EditButtonId:f,item1:y}=M(t=>t.routes),{fromCities:j,translatedFromCities:S,translatedToCities:h,showFromCityModal:g,showToCityModal:N}=M(t=>t.fromCity),{toCities:v,showDateModal:U,selectedDate:b,currentOptionType:k}=M(t=>t.toCity),{userName:m}=M(t=>t.driver),{minDate:q,maxDate:o,openModal:d,seatCount:l,openModal1:D}=M(t=>t.comment),{language:n}=r.useContext(Y),[w,J]=r.useState("");r.useEffect(()=>{s(fe()),s(ge()),s(E(m)),te();const t=new Date,c=new Date(t);c.setDate(t.getDate()+2);const i=p=>p.toISOString().split("T")[0];s(Ce(i(t))),s(je(i(c)))},[m,s]);const z=r.useMemo(()=>({Uzbekistan:{Toshkent:"Ташкент",Samarqand:"Самарканд",Andijon:"Андижан",Buxoro:"Бухара","Farg'ona":"Фергана",Namangan:"Наманган","Qaraqalpog'iston":"Каракалпакстан",Surxondaryo:"Сурхандарьинская",Xorazm:"Хорезм",Jizzax:"Джизак",Qashqadaryo:"Кашкадарья",Sirdaryo:"Сырдарья",Navoiy:"Навои",Nukus:"Нукус",Urganch:"Урганч",Termiz:"Термиз",Denov:"Денов",Xiva:"Хива",Qarshi:"Қарши","Qo'qon":"Қўқон"},Russia:{Ташкент:"Toshkent",Самарканд:"Samarqand",Андижан:"Andijon",Бухара:"Buxoro",Фергана:"Farg'ona",Каракалпакстан:"Qaraqalpog'iston",Наманган:"Namangan",Хорезм:"Xorazm",Джизак:"Jizzax",Кашкадарья:"Qashqadaryo",Сырдарья:"Sirdaryo",Навои:"Navoiy",Сурхандарьинская:"Surxondaryo",Нукус:"Nukus",Урганч:"Urganch",Термиз:"Termiz",Денов:"Denov",Хива:"Xiva",Қўқон:"Qo'qon",Қарши:"Qarshi"}}),[]),te=r.useCallback(()=>{ve("/auth/name","GET",null).then(t=>{s(be(t.id)),s(K(t.count))})},[s]),se=["yanvar","fevral","mart","aprel","may","iyun","iyul","avgust","sentabr","oktabr","noyabr","dekabr"],ae=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],ne=t=>{const c={Ch:"Ч",ch:"ч",Sh:"Ш",sh:"ш",A:"А",B:"Б",C:"С",D:"Д",E:"Е",F:"Ф",G:"Г",H:"Ҳ",I:"И",J:"Ж",K:"К",L:"Л",M:"М",N:"Н",O:"О",P:"П",Q:"Қ",R:"Р",S:"С",T:"Т",U:"У",V:"В",X:"Х",Y:"Й",Z:"З",a:"а",b:"б",c:"с",d:"д",e:"е",f:"ф",g:"г",h:"ҳ",i:"и",j:"ж",k:"к",l:"л",m:"м",n:"н",o:"о",p:"п",q:"қ",r:"р",s:"с",t:"т",u:"у",v:"в",x:"х",y:"й",z:"з"};let i=t;return i=i.replace(/Ch/g,c.Ch).replace(/ch/g,c.ch).replace(/Sh/g,c.Sh).replace(/sh/g,c.sh),i=i.split("").map(p=>c[p]||p).join(""),i},oe=t=>{const c={А:"A",а:"a",Б:"B",б:"b",В:"V",в:"v",Г:"G",г:"g",Д:"D",д:"d",Е:"E",е:"e",Ё:"Yo",ё:"yo",Ж:"J",ж:"j",З:"Z",з:"z",И:"I",и:"i",Й:"Y",й:"y",К:"K",к:"k",Л:"L",л:"l",М:"M",м:"m",Н:"N",н:"n",О:"O",о:"o",П:"P",п:"p",Р:"R",р:"r",С:"S",с:"s",Т:"T",т:"t",У:"U",у:"u",Ф:"F",ф:"f",Х:"X",х:"x",Ц:"S",ц:"s",Ч:"Ch",ч:"ch",Ш:"Sh",ш:"sh",Щ:"Sh",щ:"sh",Ъ:"",ъ:"",Ы:"Y",ы:"y",Ь:"",ь:"",Э:"E",э:"e",Ю:"Yu",ю:"yu",Я:"Ya",я:"ya",Ҳ:"H",ҳ:"h"};return t.split("").map(i=>c[i]||i).join("")},W=r.useCallback(t=>n==="1"?oe(t):n==="2"?ne(t):t,[n]),T=r.useCallback(t=>n==="2"&&z.Uzbekistan[t]||t,[n,z]),X=r.useCallback(t=>n==="2"&&z.Russia[t]||t,[n,z]),H=r.useCallback(t=>{const c=new Date(t),i=c.getDate(),p=c.getMonth(),O=n==="2"?ae[p]:se[p];return`${i}-${O}`},[n]),ie=r.useCallback(t=>{const c={year:"numeric",month:"2-digit",day:"2-digit"},i=t.toLocaleDateString("en-CA",c);s(G(i)),s(C({...a,day:i}))},[s,a]);r.useEffect(()=>{s(Se(j.map(t=>({...t,name:T(t.name)})))),s(Ne(v.map(t=>({...t,name:T(t.name)}))))},[j,v,n]);const R=r.useCallback(t=>{k==="from"?(s(C({...a,fromCity:X(t)})),s(Q(!1))):k==="to"&&(s(C({...a,toCity:X(t)})),s(B(!1)))},[k,s,a,X]),re=()=>{s(F(!0))},le=()=>{s(P(!0))},ce=r.useCallback(t=>{const c=t.hour.toString().padStart(2,"0"),i=t.minute.toString().padStart(2,"0"),p=`${c}:${i}`;s(C({...a,hour:p})),s(F(!1)),s(K(null))},[s,a]),de=t=>{s(C({...a,countSide:t})),s(P(!1))},ue=r.useCallback(()=>{const t=new Date;new Date(t).setDate(t.getDate()+2);const i=A=>A instanceof Date?A.toISOString().split("T")[0]:(console.error("Invalid date:",A),""),p=t.getHours()*60+t.getMinutes(),O=a.hour.split(":").map(Number)[0]*60+a.hour.split(":").map(Number)[1];if(!a.fromCity||!a.toCity||!a.countSide||!a.day||!a.hour||!a.price)x.error("Iltimos bo'sh maydonlarni to'ldiring!");else{i(t);const A=new Date(a.day);i(t)===i(A)&&p>=O?x.error("Agar bugungi kunni tanlagan bo'lsangiz vaqtni hozirgi vaqtdan keyinroq qo'ying!"):f?s(ke({EditButtonId:f,driverRout:a})).unwrap().then(()=>{x.success("Malumot muvaffaqiyatli tahrirlandi!"),s(E(m))}).catch(ye=>x.error("Xatolik yuz berdi!")):u.length>=1?x.error("Siz ayni damda faqat 1 ta yo'nalishda ishlay olasiz!"):(s(),s(Me({driverRout:a,userName:m})).unwrap().then(()=>{x.success("Malumot muvaffaqiyatli qo'shildi!"),s(E(m))}).catch(ye=>x.error("Xatolik yuz berdi!")))}s(G("")),s(V(null)),s(C({fromCity:"",toCity:"",countSide:"",price:"",day:"",hour:"",userId:""}))},[s,a]),he=t=>{f?x.error("Siz tahrirlab turgan vaqt o'chira olmaysiz!"):s(we({id:t})).unwrap().then(()=>{s(E(m)),x.success("Malumot muvaffaqiyatli o'chirildi!")}).catch(c=>{x.error("Xatolik yuz berdi!"),s(E(m))})},[me,I]=r.useState("inputs");r.useEffect(()=>{const t=()=>{window.innerWidth<=720?I("inputs"):window.innerWidth>720&&window.innerWidth<=1300?I("inputs11"):(window.innerWidth>1300&&window.innerWidth<=1920,I("inputs"))};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]);const pe=t=>{document.getElementById("specificGroupArea").scrollIntoView({behavior:"smooth"}),s(V(t.id)),s(C({fromCity:t.fromCity,toCity:t.toCity,countSide:t.countSide,price:t.price,day:t.day,hour:t.hour,userId:m})),s(G(t.day))};return e.jsxs("div",{children:[e.jsx(Te,{}),e.jsx("div",{className:"path_dr_con",children:e.jsx("div",{className:"backColor",children:e.jsxs("div",{className:"path_dr_con2",children:[e.jsx("div",{className:"h1RouterUser",children:e.jsx("h1",{id:"specificGroupArea",className:"header_dr",children:n==="1"?"Har kuni O’zbekiston bo’ylab qatnovlar":"Ежедневные поездки по Узбекистану"})}),e.jsxs("div",{className:me,children:[e.jsx("div",{className:"inputChild",children:e.jsxs("button",{type:"button",className:"btnCity1",onClick:()=>{s(Z("from")),s(Q(!0))},children:[a.fromCity?e.jsx("span",{style:{color:"#303383",fontWeight:"600",letterSpacing:"1.5px"},children:T(a.fromCity)}):e.jsx("span",{style:{fontWeight:"normal"},children:n==="1"?"Qayerdan  ":"Откуда"}),e.jsx("img",{src:_,className:"icons",alt:"image"})]})}),e.jsx("div",{className:"inputChild",children:e.jsxs("button",{type:"button",className:"btnCity1",onClick:()=>{s(Z("to")),s(B(!0))},disabled:!a.fromCity,style:{opacity:a.fromCity?1:.5,cursor:a.fromCity?"pointer":"not-allowed"},children:[a.toCity?e.jsx("span",{style:{color:"#303383",fontWeight:"600",letterSpacing:"1.5px"},children:T(a.toCity)}):e.jsx("span",{style:{fontWeight:"normal"},children:n==="1"?"Qayerga":"Куда"}),e.jsx("img",{src:_,className:"icons",alt:"image"})]})}),e.jsx("div",{className:"inputChild",children:e.jsxs("button",{type:"button",className:"btnCity1",value:H(a.day),onClick:()=>s(L(!0)),disabled:!a.toCity,style:{opacity:a.toCity?1:.5,cursor:a.toCity?"pointer":"not-allowed"},children:[b?e.jsx("span",{style:{color:"#303383",fontWeight:"600",letterSpacing:"1.5px"},children:H(b)}):e.jsx("span",{style:{fontWeight:"normal"},children:n==="1"?"Qachon":"Когда"}),e.jsx("img",{src:Ee,className:"icons",alt:"image"})]})}),e.jsx("div",{className:"inputChild",children:e.jsxs("button",{type:"button",className:"btnCity1",onClick:re,children:[a.hour?e.jsx("span",{style:{color:"#303383",fontWeight:"600",letterSpacing:"1.5px"},children:a.hour}):e.jsx("span",{style:{fontWeight:"normal"},children:n==="1"?"Vaqt":"Время"}),e.jsx("img",{src:Xe,className:"icons",alt:"image"})]})}),e.jsx("div",{className:"inputChild",children:e.jsxs("button",{type:"button",className:"btnCity1",onClick:le,children:[a.countSide?e.jsxs("span",{style:{color:"#303383",fontWeight:"600",letterSpacing:"1.5px"},children:[a.countSide," ta "]}):e.jsx("span",{style:{fontWeight:"normal"},children:n==="1"?"O'rindiq":"Сиденье"}),e.jsx(Oe,{className:"icons"})]})}),e.jsx("div",{className:"inputChild",children:e.jsx("input",{type:"number",value:a.price,className:"btnCity1",placeholder:n==="1"?"Narxi":"Цена",onChange:t=>s(C({...a,price:t.target.value}))})}),e.jsx("div",{className:"inputChild",children:e.jsx("button",{className:"qidirish1",onClick:ue,children:n==="1"?"Saqlash":"Сохранять"})})]}),e.jsx("div",{className:"",style:{margin:"0 10px"},children:u.map(t=>e.jsxs("div",{className:"mapRoutes",style:{backgroundColor:"white"},children:[e.jsxs("li",{className:"list-group-item li1",children:[e.jsxs("div",{className:"l1Child1",children:[e.jsxs("p",{children:[" ",H(t.day)]})," ",e.jsx("p",{children:t.hour})]})," ",e.jsxs("div",{className:"li1Child2",children:[" ",e.jsx("p",{children:T(t.fromCity)})," ",e.jsx("img",{src:qe,alt:"image"})," ",e.jsx("p",{children:W(t.toCity)})]})," ",e.jsx("div",{className:"li1Child3",children:e.jsxs("p",{children:[t.price," ",n==="1"?"So’m":"Сум"," "]})})]}),e.jsxs("li",{className:"list-group-item li2",children:[e.jsx("div",{className:"l2Child1",children:Array.from({length:Math.min(t.countSide,6)}).map((c,i)=>e.jsx("img",{src:ze,alt:"image"},i))}),e.jsxs("div",{className:"li2Child2",children:[e.jsx("p",{children:n==="1"?" Bo'sh O'rindiqlar soni:":"Количество свободных мест:"}),e.jsx("h6",{children:t.countSide})]}),e.jsxs("div",{className:"li2Child3",children:[e.jsx("h6",{children:n==="1"?"Mashina rusumi":"Модель автомобиля"}),e.jsx("p",{children:W(t.user.carType)})]})]}),e.jsxs("li",{className:"list-group-item li3",children:[e.jsxs("div",{className:"l3Child1",children:[e.jsx("h3",{children:W(t.user.fullName)}),e.jsxs("div",{className:"liDriverPhone",children:[e.jsx("img",{src:Ie,alt:"image"})," ",e.jsx("p",{children:t.user.phoneNumber})]})," "]}),e.jsxs("div",{className:"li3Child3",children:[e.jsxs("button",{onClick:()=>pe(t),children:["  ",n==="1"?"Tahirlash":"Бронирование"]})," ",e.jsx("button",{onClick:()=>he(t.id),children:n==="1"?"O'chirish":"Выключать"}),"  ",e.jsxs("p",{className:"carType",children:["  ",t.user.carType]})]})]})]},t.id))})]})})}),g&&e.jsx($,{options:S,onSelect:R,onClose:()=>s(Q(!1))}),N&&e.jsx($,{options:h,onSelect:R,onClose:()=>s(B(!1))}),U&&e.jsx(Ue,{minDate:q,maxDate:o,onDateSelect:ie,onClose:()=>s(L(!1))}),d&&e.jsx(He,{options:w,onSelect:ce,onClose:()=>s(F(!1))}),D&&e.jsx(Ge,{onSelect:de,isTrue:l,onClose:()=>s(P(!1))}),e.jsx(De,{toastStyle:{backgroundColor:"white",color:"black"},autoClose:1e3}),e.jsx(Ae,{})]})}export{Ve as default};
//# sourceMappingURL=PathDriver-Ij_aobvF.js.map
